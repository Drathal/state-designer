# Introduction

State Designer is a tool for designing how a system works.

The library includes the [useStateDesigner](/) hook for React.

Check out the visual designer: [State Designer Designer](https://state-designer-designer.now.sh/).

## Installation

```
npm install state-designer
```

_or_

```
yarn add state-designer
```

## Examples

State Designer introduces many new concepts. See the sidebar pages for a closer look at each of these concepts and how they apply in State Designer.

### States

```jsx
import React from "react"
import { useStateDesigner } from "state-designer"

function Counter() {
  const { send, whenIn } = createStateDesigner({
    initial: "inactive",
    states: {
      inactive: {
        on: { TOGGLED: { to: "active" } }
      },
      active: {
        on: { TOGGLED: { to: "inactive" } }
      }
    }
  })

  return (
    <div>
      <button
        onClick={() => send("TOGGLED")}
        style={whenIn({
          inactive: { background: "#fff" },
          active: { background: "#ccc" }
        })}
      >
        Toggle
      </button>
    </div>
  )
}
```

### Data

```jsx
import React from "react"
import { useStateDesigner } from "state-designer"

function Counter() {
  const { data, send } = createStateDesigner({
    data: {
      count: 0
    },
    on: {
      PLUS_CLICKED: data => data.count++,
      MINUS_CLICKED: data => data.count--
    }
  })

  return (
    <div>
      <p>{data.count}</p>
      <button onClick={() => send("PLUS_CLICKED")}>+</button>
      <button onClick={() => send("MINUS_CLICKED")}>-</button>
    </div>
  )
}
```

### Collections

```jsx
import React from "react"
import { useStateDesigner } from "state-designer"

function Counter() {
  const { data, send } = createStateDesigner({
    data: {
      min: 0,
      max: 10
      count: 0
    },
    on: {
      PLUS_CLICKED: { unless: "atMax", do: "incrementCount" },
      MINUS_CLICKED: { unless: "atMin", do: "decrementCount" }
    },
    conditions: {
      atMin(data) {
        return data.count <= data.min
      },
      atMax(data) {
        return data.count >= data.max
      }
    },
    actions: {
      incrementCount(data) {
        data.count++
      },
      decrementCount(data) {
        data.count--
      },
      adjustCount(data, payload) {
        data.count += payload
      },
    }
  })

  return (
    <div>
      <p>{data.count}</p>
      <button onClick={() => send("PLUS_CLICKED")}>+</button>
      <button onClick={() => send("MINUS_CLICKED")}>-</button>
    </div>
  )
}
```

### All together now

```jsx
import React from "react"
import { useStateDesigner } from "state-designer"

function Counter() {
  const { data, send, whenIn } = createStateDesigner({
    data: {
      min: 0,
      max: 10
      count: 0
    },
    states: {
      inactive: {
        on: {
          "TOGGLED": { to: "active" }
        }
      },
      active: {
        on: {
          "TOGGLED": { to: "inactive" },
          "PLUS_CLICKED": { unless: "atMax", do: "incrementCount" },
          "MINUS_CLICKED": { unless: "atMin", do: "decrementCount" }
        },
        initial: "min",
        onEvent: [
          { if: "atMax", to: "max" },
          { if: "atMin", to: "min" },
          { to: "mid"}
        ],
        states: {
          min: {},
          mid: {},
          max: {}
        }
      },
    },
    conditions: {
      atMin(data) {
        return data.count <= data.min
      },
      atMax(data) {
        return data.count >= data.max
      }
    },
    actions: {
      incrementCount(data) {
        data.count++
      },
      decrementCount(data) {
        data.count--
      },
      adjustCount(data, payload) {
        data.count += payload
      },
    }
  })
}
```

---

## Contribution

To contribute to this project, visit the
[Github repository](https://github.com/steveruizok/quick-docs).

You can tweet the author at [@steveruizok](http://twitter.com/steveruizok).

Thanks to John Otander for his work with
[gatsby-plugin-documentation](https://github.com/johno/gatsby-theme-documentation)
and [MDX](https://github.com/mdx-js/mdx), and to and Brent Jackson for
[Theme UI](https://github.com/system-ui/theme-ui).
